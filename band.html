<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Writing Assistant (Manual)</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Configure Tailwind to use the Inter font
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#007bff',
                        'secondary': '#f8f9fa',
                        'accent': '#ffc107',
                        'danger': '#dc3545',
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom scrollbar for textareas */
        textarea::-webkit-scrollbar {
            width: 8px;
        }

        textarea::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 4px;
        }

        /* Basic styling for the main container */
        .container-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            font-weight: 600;
            color: #4b5563; /* gray-600 */
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            margin-bottom: -1px;
        }
        .tab-button:hover {
            color: #1f2937; /* gray-800 */
        }
        .tab-button.active {
            color: #007bff; /* primary color */
            border-bottom: 2px solid #007bff;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans min-h-screen p-4 md:p-8">

    <div id="app" class="max-w-4xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-3xl font-extrabold text-gray-800 tracking-tight">IELTS Writing Assistant (Manual Check)</h1>
            <p class="text-lg text-gray-500 mt-1">Practice and get structured, fixed feedback on your Task 1 and Task 2 responses.</p>
        </header>

        <!-- Tab Navigation -->
        <div class="flex border-b border-gray-200 mb-6">
            <button id="tab-1" onclick="switchTab('task1')" class="tab-button active">
                Task 1 (Report/Letter)
            </button>
            <button id="tab-2" onclick="switchTab('task2')" class="tab-button">
                Task 2 (Essay)
            </button>
        </div>

        <!-- Task Content and Output Area -->
        <div class="bg-white rounded-xl container-shadow p-6 mb-8">
            
            <!-- Filter Area -->
            <div id="filter-area" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200">
                <div class="md:col-span-1">
                    <label for="category-select" class="block text-xs font-medium text-gray-500 mb-1">1. Select Prompt Type</label>
                    <select id="category-select" onchange="loadCategoryPrompts()" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150 shadow-sm text-sm">
                        <!-- Options will be populated by JS -->
                    </select>
                </div>
                <div class="md:col-span-1">
                    <label for="prompt-select" class="block text-xs font-medium text-gray-500 mb-1">2. Select Prompt</label>
                    <select id="prompt-select" onchange="loadSelectedPrompt()" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150 shadow-sm text-sm">
                        <!-- Options will be populated by JS -->
                    </select>
                </div>
                <div class="md:col-span-1 flex items-end">
                    <button onclick="clearPrompt()" class="w-full py-2 px-4 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition duration-300 shadow-sm text-sm">
                        Clear Prompt Box
                    </button>
                </div>
            </div>

            <!-- Input Area -->
            <div id="input-area">
                
                <!-- VISUALIZATION AREA for Task 1 -->
                <div id="figure-visualization" class="mb-4 hidden">
                    <h3 class="text-lg font-bold text-gray-700 mb-2">Simulated Figure/Data</h3>
                    <div id="visualization-content" class="p-4 bg-blue-50 border border-blue-200 rounded-lg shadow-inner text-sm">
                        <!-- Content injected by JS -->
                    </div>
                </div>
                <!-- END VISUALIZATION AREA -->

                <div class="mb-4">
                    <label for="prompt-input" class="block text-sm font-medium text-gray-700 mb-2">
                        <span id="prompt-label">Paste the Task 1 Prompt/Question here</span>
                        <span class="text-xs text-red-500 ml-2">(MANDATORY)</span>
                    </label>
                    <textarea id="prompt-input" rows="5" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150 shadow-inner" placeholder="E.g., The chart shows the amount of money spent on..."></textarea>
                </div>

                <div class="mb-6">
                    <label for="response-input" class="block text-sm font-medium text-gray-700 mb-2">
                        <span id="response-label">Paste your Task 1 Response (min 150 words)</span>
                        <span id="word-count" class="text-xs ml-2 text-gray-500">Words: 0</span>
                    </label>
                    <textarea id="response-input" rows="10" oninput="updateWordCount()" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150 shadow-inner" placeholder="Start writing your report or letter here..."></textarea>
                </div>
            </div>

            <!-- Action Button -->
            <button id="score-button" onclick="getScore()" class="w-full py-3 px-6 bg-primary text-white font-bold rounded-lg hover:bg-opacity-90 transition duration-300 transform hover:scale-[1.01] shadow-lg focus:outline-none focus:ring-4 focus:ring-primary/50">
                Check Task 1 Word Count & Feedback
            </button>

            <!-- Loading Placeholder -->
            <div id="loading" class="hidden text-center mt-6">
                <div class="animate-pulse w-full h-8 bg-gray-200 rounded"></div>
                <p class="text-gray-500 mt-2">Running local checks...</p>
            </div>

            <!-- Error Message -->
            <div id="error-message" class="hidden mt-6 bg-danger/10 border-l-4 border-danger text-danger p-4 rounded-lg" role="alert">
                <p class="font-bold">Error:</p>
                <p id="error-text">An unknown error occurred.</p>
            </div>
            
            <!-- Output Area -->
            <div id="output-area" class="hidden mt-8 border-t border-gray-200 pt-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">Simulated Examiner Feedback</h2>
                <div id="results" class="space-y-6">
                    <!-- Results will be injected here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDKs for environment initialization (required boilerplate) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Global variables provided by the Canvas environment
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        
        // Initialize Firebase (Keep this block as it is required for the Canvas environment)
        if (Object.keys(firebaseConfig).length > 0) {
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            
            async function authenticateUser() {
                try {
                    if (initialAuthToken) {
                        await signInWithCustomToken(auth, initialAuthToken);
                        // console.log("Authenticated with custom token.");
                    } else {
                        await signInAnonymously(auth);
                        // console.log("Authenticated anonymously.");
                    }
                } catch (error) {
                    // console.error("Firebase Auth Error:", error);
                }
            }
            authenticateUser();
        } else {
             // console.log("Firebase configuration is missing. Running without explicit Firebase authentication.");
        }
    </script>

    <script>
        // --- Global State and Utility Functions ---
        let currentTask = 'task1'; // 'task1' or 'task2'

        // --- IELTS Prompt Library (40 prompts total) ---

        const TASK1_PROMPT_LIST = [
            { type: "Line Graph", prompt: "The line graph shows the number of visitors to three different museums (The Science Museum, The History Museum, and The Art Gallery) in London between 2005 and 2015. Data key points: The Science Museum started at 800,000 visitors, peaked at 1.2 million in 2010, and finished at 1 million. The History Museum remained stable at 600,000. The Art Gallery grew steadily from 400,000 to 1.1 million. Summarise the information by selecting and reporting the main features, and make comparisons where relevant. Write at least 150 words." },
            { type: "Bar Chart", prompt: "The bar chart compares the consumption of four different types of beverages (tea, coffee, fruit juice, and water) in three separate countries (Country A, B, and C) in 2018 (litres per person). Data key points: Coffee is the most popular in Country A (150L). Tea is dominant in Country B (120L). Water consumption is highest and most consistent across all countries (average 80L). Summarise the information by selecting and reporting the main features, and make comparisons where relevant. Write at least 150 words." },
            { type: "Pie Chart", prompt: "The two pie charts illustrate the percentage of different energy sources used to generate electricity in France in 1995 and 2005. Data key points: In 1995, Nuclear was 50%, Hydro 25%, and Fossil Fuels 25%. In 2005, Nuclear increased to 70%, Hydro dropped to 10%, and Fossil Fuels remained at 20%. Summarise the information by selecting and reporting the main features, and make comparisons where relevant. Write at least 150 words." },
            { type: "Process Diagram", prompt: "The diagram illustrates the process by which cement is manufactured. Data key points: 1) Limestone and clay are crushed. 2) The mixture is heated in a rotating kiln at 1500Â°C to create clinker. 3) The clinker is cooled. 4) Gypsum is added to the clinker. 5) The final product is ground into cement powder and bagged. Summarise the information by describing the stages of the process. Write at least 150 words." },
            { type: "Map Changes", prompt: "The two maps show an island before and after the construction of tourist facilities. Data key points: A dense forest in the west was cleared for a hotel complex. A dirt track was replaced by a paved road running from the ferry terminal to the hotel. A small fishing village in the north was converted into a marina. Summarise the information by describing the changes made to the island. Write at least 150 words." },
        ];


        const TASK2_PROMPT_LIST = [
            { type: "Opinion (Agree/Disagree)", prompt: "Some people believe that the best way to develop a country is to invest in basic education, while others argue that funding should prioritize university education. To what extent do you agree or disagree with this statement? Give reasons for your answer and include any relevant examples from your own knowledge or experience. Write at least 250 words." },
            { type: "Discussion (Discuss Both Views)", prompt: "Some people think that children should learn to cooperate rather than compete. Others, however, believe that competition is necessary to prepare children for the future. Discuss both these views and give your own opinion. Write at least 250 words." },
            { type: "Problem/Solution", prompt: "In many countries, children are spending too much time indoors and are not getting enough exercise. What do you think are the main causes of this problem? What solutions can be suggested to solve this? Write at least 250 words." },
            { type: "Advantage/Disadvantage", prompt: "Many companies now use fingerprinting or eye-recognition technology to identify employees. What are the advantages and disadvantages of this? Write at least 250 words." },
            { type: "Two-part Question", prompt: "Foreign visitors to a country often fail to respect local customs and rules. Why do you think this happens? What can be done to encourage visitors to respect the local customs and rules? Write at least 250 words." },
        ];

        let currentPromptList = TASK1_PROMPT_LIST;

        // --- Filter Loading and Selection Functions ---

        function updateWordCount() {
            const responseText = document.getElementById('response-input').value.trim();
            const wordCount = responseText.split(/\s+/).filter(Boolean).length;
            document.getElementById('word-count').textContent = `Words: ${wordCount}`;
            
            const taskNumber = currentTask.slice(-1);
            const minWords = taskNumber === '1' ? 150 : 250;
            const wordCountElement = document.getElementById('word-count');

            if (wordCount < minWords) {
                wordCountElement.classList.remove('text-gray-500');
                wordCountElement.classList.add('text-red-500', 'font-bold');
            } else {
                wordCountElement.classList.remove('text-red-500', 'font-bold');
                wordCountElement.classList.add('text-green-600', 'font-bold');
            }
        }

        function clearPrompt() {
            document.getElementById('prompt-input').value = '';
        }

        function populateCategorySelector() {
            const categorySelect = document.getElementById('category-select');
            categorySelect.innerHTML = '';
            
            currentPromptList = currentTask === 'task1' ? TASK1_PROMPT_LIST : TASK2_PROMPT_LIST;
            
            const categories = [...new Set(currentPromptList.map(p => p.type))];

            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                categorySelect.appendChild(option);
            });

            loadCategoryPrompts();
        }

        function loadCategoryPrompts() {
            const categorySelect = document.getElementById('category-select');
            const promptSelect = document.getElementById('prompt-select');
            promptSelect.innerHTML = '';

            const selectedCategory = categorySelect.value;
            const filteredPrompts = currentPromptList.filter(p => p.type === selectedCategory);

            filteredPrompts.forEach((promptData, index) => {
                const option = document.createElement('option');
                option.value = index; 
                option.textContent = `${promptData.type} - Prompt ${index + 1}`;
                promptSelect.appendChild(option);
            });

            if (filteredPrompts.length > 0) {
                loadSelectedPrompt();
            } else {
                document.getElementById('prompt-input').value = 'No prompts available for this category.';
            }
        }

        function loadSelectedPrompt() {
            const categorySelect = document.getElementById('category-select');
            const promptSelect = document.getElementById('prompt-select');
            const figureVis = document.getElementById('figure-visualization');
            const visContent = document.getElementById('visualization-content');
            
            const selectedCategory = categorySelect.value;
            const selectedIndex = parseInt(promptSelect.value);

            const filteredPrompts = currentPromptList.filter(p => p.type === selectedCategory);
            
            if (filteredPrompts[selectedIndex]) {
                const fullPrompt = filteredPrompts[selectedIndex].prompt;
                
                // --- Logic for Task 1 Figures ---
                if (currentTask === 'task1') {
                    const parts = fullPrompt.split('. Data key points:');
                    let mainPrompt = fullPrompt;
                    let dataPoints = null;

                    if (parts.length > 1) {
                        mainPrompt = parts[0] + '.';
                        dataPoints = parts[1].split('. Summarise')[0].trim();
                    }

                    document.getElementById('prompt-input').value = mainPrompt;
                    
                    if (dataPoints) {
                        visContent.innerHTML = `
                            <p class="font-semibold mb-1 text-blue-800">${filteredPrompts[selectedIndex].type} Simulation</p>
                            <div class="bg-white p-3 rounded border border-blue-300">
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    ${dataPoints.split('. ').map(point => point.trim() ? `<li>${point.trim()}.</li>` : '').join('')}
                                </ul>
                                <p class="text-xs italic mt-3 text-red-500">Note: Base your report only on these key points, simulating a figure.</p>
                            </div>
                        `;
                        figureVis.classList.remove('hidden');
                    } else {
                        visContent.innerHTML = 'This prompt type does not require a simulated figure.';
                        figureVis.classList.remove('hidden');
                    }

                } else {
                    document.getElementById('prompt-input').value = fullPrompt;
                    figureVis.classList.add('hidden');
                }
            }
        }


        function switchTab(task) {
            currentTask = task;
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`tab-${task.slice(-1)}`).classList.add('active');

            const taskNumber = task.slice(-1);
            const minWords = taskNumber === '1' ? 150 : 250;
            
            document.getElementById('prompt-label').textContent = `Paste the Task ${taskNumber} Prompt/Question here`;
            document.getElementById('response-label').textContent = `Paste your Task ${taskNumber} Response (min ${minWords} words)`;
            document.getElementById('score-button').textContent = `Check Task ${taskNumber} Word Count & Feedback`;

            populateCategorySelector();

            document.getElementById('response-input').value = '';
            document.getElementById('output-area').classList.add('hidden');
            document.getElementById('error-message').classList.add('hidden');
            document.getElementById('results').innerHTML = '';
            updateWordCount();
        }

        // --- Core Logic (Manual Simulation) ---

        function getSimulatedFeedback(taskNumber, wordCount, minWords) {
            if (wordCount < minWords) {
                return {
                    overallBandScore: 'N/A',
                    taskAchievementTaskResponse: '4.0',
                    coherenceAndCohesion: '5.0',
                    lexicalResource: '5.0',
                    grammaticalRangeAndAccuracy: '5.0',
                    examinerReportSummary: `The response is significantly under the minimum word count of ${minWords}. Task achievement cannot be fully assessed due to the brevity, which severely impacts the final band score. Focus urgently on expanding your ideas and supporting them with relevant details to meet the length requirement.`,
                    actionableFeedback: [
                        `***URGENT:*** Expand the response to at least ${minWords} words to avoid a significant penalty.`,
                        'Ensure every paragraph contains at least two supporting sentences following the main idea.',
                        'Review the prompt and ensure all parts of the question are addressed.',
                    ]
                };
            }

            // Generic feedback for sufficient length
            if (taskNumber === '1') {
                return {
                    overallBandScore: '7.0',
                    taskAchievementTaskResponse: '7.5',
                    coherenceAndCohesion: '7.0',
                    lexicalResource: '6.5',
                    grammaticalRangeAndAccuracy: '7.0',
                    examinerReportSummary: `The report is well-structured and covers the key features of the data clearly. There is a good attempt at comparison and contrast, demonstrating sufficient data selection. To reach a higher band, focus on varying sentence structures and integrating less common, topic-specific vocabulary naturally.`,
                    actionableFeedback: [
                        'Ensure you have a clear overview paragraph that summarizes the main trends.',
                        'Use a wider range of cohesive devices (e.g., "whereas," "consequently") to link ideas smoothly.',
                        'Try to embed relative clauses to create more complex sentences (e.g., "The figure, which peaked in 2010, shows...").',
                        'Avoid relying on simple language for comparisons (e.g., use "considerably higher" instead of "much more").'
                    ]
                };
            } else { // Task 2
                return {
                    overallBandScore: '7.0',
                    taskAchievementTaskResponse: '7.0',
                    coherenceAndCohesion: '7.5',
                    lexicalResource: '6.5',
                    grammaticalRangeAndAccuracy: '7.0',
                    examinerReportSummary: `The essay addresses all parts of the prompt with a clear and consistent argument throughout. Ideas are logically sequenced, and paragraphing is generally effective. The score is limited by occasional repetition in vocabulary and minor errors in complex grammatical structures.`,
                    actionableFeedback: [
                        'Review subject-verb agreement in complex sentences.',
                        'Expand your vocabulary, especially for academic topics, and use synonyms for repeated common words (e.g., instead of "important," use "crucial," "paramount," or "vital").',
                        'Ensure your conclusion summarizes the main points and reiterates your thesis without introducing new information.',
                        'Use inversion or conditional clauses (e.g., "Not only does X, but Y also") to demonstrate a wider grammatical range.'
                    ]
                };
            }
        }


        function getScore() {
            const prompt = document.getElementById('prompt-input').value.trim();
            const responseText = document.getElementById('response-input').value.trim();
            const taskNumber = currentTask.slice(-1);
            const minWords = taskNumber === '1' ? 150 : 250;
            const wordCount = responseText.split(/\s+/).filter(Boolean).length;

            // UI Reset
            document.getElementById('output-area').classList.add('hidden');
            document.getElementById('error-message').classList.add('hidden');
            document.getElementById('error-text').textContent = '';
            document.getElementById('score-button').disabled = true;
            document.getElementById('loading').classList.remove('hidden');
            document.getElementById('results').innerHTML = '';

            // 1. Input Validation
            if (!prompt || !responseText) {
                document.getElementById('error-text').textContent = "Please provide both the Task Prompt/Question and your Written Response.";
                document.getElementById('error-message').classList.remove('hidden');
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('score-button').disabled = false;
                return;
            }

            // 2. Simulate Delay
            setTimeout(() => {
                const feedbackData = getSimulatedFeedback(taskNumber, wordCount, minWords);
                
                // 3. Display Results
                displayResults(feedbackData, wordCount);

                document.getElementById('loading').classList.add('hidden');
                document.getElementById('score-button').disabled = false;

            }, 500); // Simulate a short processing time
        }

        // --- Result Display and Utility Styling ---

        function displayResults(data, wordCount) {
            
            const taskNumber = currentTask.slice(-1);
            const minWords = taskNumber === '1' ? 150 : 250;
            const scoreColor = wordCount < minWords ? 'text-danger' : 'text-primary';
            const scoreBoxColor = wordCount < minWords ? 'bg-danger/10 border-danger/50' : 'bg-primary/10 border-primary/50';

            // Overall Score Display
            const scoreDisplay = `
                <div class="text-center mb-6 p-4 rounded-xl border-2 shadow-md ${scoreBoxColor}">
                    <p class="text-xl font-bold text-gray-700">Estimated Band Score (Simulated)</p>
                    <span class="text-6xl font-extrabold ${scoreColor}">${data.overallBandScore || 'N/A'}</span>
                    <p class="text-sm text-gray-500 mt-2">Word Count: ${wordCount} (Min: ${minWords})</p>
                </div>
            `;

            // Detailed Breakdown
            const breakdownHtml = `
                <h3 class="text-xl font-semibold text-gray-700 mt-4 mb-3 border-b pb-1">Detailed Breakdown</h3>
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-gray-100 p-3 rounded-lg flex justify-between items-center shadow-sm">
                        <span class="text-sm font-medium text-gray-600">${taskNumber === '1' ? 'Task Achievement (TA)' : 'Task Response (TR)'}</span>
                        <span class="text-2xl font-bold ${scoreColor}">${data.taskAchievementTaskResponse || 'N/A'}</span>
                    </div>
                    <div class="bg-gray-100 p-3 rounded-lg flex justify-between items-center shadow-sm">
                        <span class="text-sm font-medium text-gray-600">Coherence and Cohesion (CC)</span>
                        <span class="text-2xl font-bold ${scoreColor}">${data.coherenceAndCohesion || 'N/A'}</span>
                    </div>
                    <div class="bg-gray-100 p-3 rounded-lg flex justify-between items-center shadow-sm">
                        <span class="text-sm font-medium text-gray-600">Lexical Resource (LR)</span>
                        <span class="text-2xl font-bold ${scoreColor}">${data.lexicalResource || 'N/A'}</span>
                    </div>
                    <div class="bg-gray-100 p-3 rounded-lg flex justify-between items-center shadow-sm">
                        <span class="text-sm font-medium text-gray-600">Grammatical Range and Accuracy (GRA)</span>
                        <span class="text-2xl font-bold ${scoreColor}">${data.grammaticalRangeAndAccuracy || 'N/A'}</span>
                    </div>
                </div>
            `;

            // Examiner's Report Summary
            const summaryHtml = `
                <h3 class="text-xl font-semibold text-gray-700 mt-6 mb-3 border-b pb-1">Examiner's Report Summary</h3>
                <p class="text-gray-600 mb-4 leading-relaxed p-3 bg-gray-50 rounded-lg border border-gray-200">
                    ${data.examinerReportSummary || 'No summary provided.'}
                </p>
            `;

            // Actionable Feedback
            let feedbackItemsHtml = '';
            const feedbackBg = wordCount < minWords ? 'bg-red-50 border-red-200' : 'bg-green-50 border-green-200';
            
            if (Array.isArray(data.actionableFeedback) && data.actionableFeedback.length > 0) {
                feedbackItemsHtml = data.actionableFeedback.map(point => 
                    `<li class="list-disc ml-6 text-gray-600">${point.replace(/\*\*\*URGENT:\*\*\* /g, 'ðŸš¨ ')}</li>`
                ).join('');
            } else {
                feedbackItemsHtml = '<li class="list-disc ml-6 text-gray-600">No specific action points were generated.</li>';
            }

            const feedbackHtml = `
                <h3 class="text-xl font-semibold text-gray-700 mt-6 mb-3 border-b pb-1">Weaknesses and Actionable Feedback</h3>
                <ul class="space-y-3 p-3 rounded-lg border ${feedbackBg}">
                    ${feedbackItemsHtml}
                </ul>
            `;


            document.getElementById('results').innerHTML = scoreDisplay + breakdownHtml + summaryHtml + feedbackHtml;
            document.getElementById('output-area').classList.remove('hidden');
        }

        document.addEventListener('DOMContentLoaded', () => {
            switchTab('task1');
        });

    </script>
</body>
</html>
